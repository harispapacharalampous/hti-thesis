<div class="container">
    <% if current_user %>
    <h1>Posts</h1>
      <!-- green notice messages -->
      <p id="notice">
        <%= notice %>
      </p>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Body</th>
          <th>Affect</th>
          <th>Entertainment</th>
          <th>User</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
          <% if current_user && current_user.admin %>
                <!-- admin view -->
                <% @posts.each do |post| %>
                  <tr>
                    <td><%= post.title %></td>
                    <td><%= post.body %></td>
                    <td><%= post.affect %></td>
                    <td><%= post.entertainment %></td>
                    <td><%= post.user_id %></td>
                    <td><%= link_to 'Show', post %></td>
                    <td><%= link_to 'Edit', edit_post_path(post) %></td>
                    <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                  </tr>
                <% end %>
                <!-- admin view end -->
          <% else %>
                <!-- guest view -->
                <% current_user.posts.each do |post| %>
                  <tr>
                    <td><%= post.title %></td>
                    <td><%= post.body %></td>
                    <td><%= post.affect %></td>
                    <td><%= post.entertainment %></td>
                    <td><%= post.user.username %></td>
                    <td><%= link_to 'Show', post %></td>
                    <td><%= link_to 'Edit', edit_post_path(post) %></td>
                  </tr>
                <% end %>
                <!-- guest view end -->
          <% end %>
      </tbody>
    <!-- new post button -->
    </table>
    <br>
    <section class="newpost_banner center" id="new post">
        <div class="btn btn-info btn-lg"><%= link_to 'New Walk', new_post_path(:post =>{:created_at => DateTime.now , :entry_type => 1 }) %></div>
        <div class="btn btn-info btn-lg"><%= link_to 'New Commute', new_post_path(:post =>{:created_at => DateTime.now , :entry_type => 2 }) %></div>
        <div class="btn btn-info btn-lg"><%= link_to 'New Other Activity', new_post_path(:post =>{:created_at => DateTime.now , :entry_type => 3 }) %></div>
    </section>
    <% else %>
       <div class="row justify-content-center">
                ** login to add posts **
       </div>
        <div style="margin-top: 20px;margin-bottom: 20px;">
            <div class="row justify-content-center">
                <div class="profile-userbuttons" style="margin-right: 20px;">
                    <a href="<%= new_user_registration_path %>"><button type="button" class="btn btn-success btn-lg"> SIGN UP </button></a>
                </div>
                <div class="profile-userbuttons">
                    <a href="<%= new_user_session_path %>"><button type="button" class="btn btn-success btn-lg"> SIGN IN </button></a>
                </div>
            </div>
        </div>
    <% end %>

</div>
